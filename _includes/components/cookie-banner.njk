{% set cLang = calc.lang or home.lang or currentLang or lang or 'en' %}
<div id="cookie-consent" class="cookie-banner" style="display: none;">
    <div class="cookie-content">
        <p>
            {{ ui.cookie[cLang].message }} 
            <a href="{% if cLang == 'en' %}{% else %}/{{ cLang }}{% endif %}/privacy">{{ ui.cookie[cLang].privacy }}</a>.
        </p>
        <div class="cookie-buttons">
            <button id="accept-cookies" class="btn btn-primary btn-sm">{{ ui.cookie[cLang].accept }}</button>
            <button id="decline-cookies" class="btn btn-outline btn-sm">{{ ui.cookie[cLang].decline }}</button>
        </div>
    </div>
</div>

<style>
    .cookie-banner {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--surface);
        border-top: 1px solid rgba(255,255,255,0.1);
        padding: 16px;
        z-index: 1000;
        box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
    }
    .cookie-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 16px;
    }
    .cookie-content p {
        margin: 0;
        font-size: 14px;
        color: var(--text-muted);
    }
    .cookie-content a {
        color: var(--primary);
        text-decoration: underline;
    }
    .cookie-buttons {
        display: flex;
        gap: 12px;
    }
    .btn-sm {
        padding: 8px 16px;
        font-size: 14px;
    }
</style>

<script>
    (function() {
        if (!localStorage.getItem('cookieconfig')) {
            document.getElementById('cookie-consent').style.display = 'block';
        }

        document.getElementById('accept-cookies').addEventListener('click', function() {
            localStorage.setItem('cookieconfig', 'accepted');
            document.getElementById('cookie-consent').style.display = 'none';
        });

        document.getElementById('decline-cookies').addEventListener('click', function() {
            localStorage.setItem('cookieconfig', 'declined');
            document.getElementById('cookie-consent').style.display = 'none';
        });
    })();
</script>
